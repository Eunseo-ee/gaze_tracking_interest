<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
  <meta charset="UTF-8">
  <title>Promotion</title>
  <link rel="stylesheet" th:href="@{/css/rankings.css(v=${#dates.createNow().time})}">
  <link rel="stylesheet" th:href="@{/css/dashboard_comparison.css(v=${#dates.createNow().time})}">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <!-- Bootstrap CSS -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">

</head>
<body>

<!-- 제목 및 삼선 버튼 -->
<nav class="navbar navbar-light bg-white border-bottom shadow-sm">
  <div class="container-fluid">
    <a class="navbar-brand" href="#">OOO Store</a>
    <button class="navbar-toggler" type="button" data-bs-toggle="offcanvas" data-bs-target="#menuOffcanvas">
      <span class="navbar-toggler-icon"></span>
    </button>
  </div>
</nav>

<!-- 메뉴탭 -->
<div class="container-fluid bg-white shadow-sm">
  <ul class="nav justify-content-center">
    <li class="nav-item">
      <a class="nav-link"
         th:href="@{'/store/' + ${storeCode} + '/promotion'}"
         th:classappend="${activeTab} == 'promotion' ? ' active' : ''">Promotion</a>
    </li>
    <li class="nav-item">
      <a class="nav-link"
         th:href="@{'/store/' + ${storeCode} + '/rankings'}"
         th:classappend="${activeTab} == 'rankings' ? ' active' : ''">Rankings</a>
    </li>
    <li class="nav-item">
      <a class="nav-link"
         th:href="@{'/store/' + ${storeCode} + '/owner'}"
         th:classappend="${activeTab} == 'owner' ? ' active' : ''">Owner</a>
    </li>
  </ul>
</div>

<div class="filters">
  <label>날짜:
    <input type="date" id="dateInput">
  </label>
  <label>시간:
    <select id="timeInput">
      <option value="">선택</option>
      <option>18:00~19:00</option>
      <option>19:00~20:00</option>
    </select>
  </label>
  <label>카테고리:
    <select id="categoryInput">
      <option value="">선택</option>
      <option>과자</option>
      <option>음료</option>
      <option>기타</option>
    </select>
  </label>
</div>

<div class="buttons">
  <button onclick="showSection('compare')">순위비교</button>
  <button onclick="showSection('conversion')">구매전환율</button>
</div>

<!-- 순위 비교 테이블 -->
<div id="compareSection" class="compare-container">
  <div class="table-wrapper">
    <h2>&lt;시선추적&gt;</h2>
    <table>
      <thead>
      <tr>
        <th>순위</th>
        <th>상품명</th>
        <th>카테고리</th>
        <th>상품 가격</th>
      </tr>
      </thead>
      <tbody id="gazeTableBody"></tbody>
    </table>
  </div>

  <div class="table-wrapper">
    <h2>&lt;실판매&gt;</h2>
    <table>
      <thead>
      <tr>
        <th>순위</th>
        <th>상품명</th>
        <th>카테고리</th>
        <th>상품 가격</th>
      </tr>
      </thead>
      <tbody id="salesTableBody"></tbody>
    </table>
  </div>
</div>

<!-- 구매전환율 테이블 -->
<div id="conversionSection" class="hidden">
  <h2>&lt;구매전환율&gt;</h2>
  <div class="table-wrapper">
    <table>
      <thead>
      <tr>
        <th>시선추적 순위</th>
        <th>제품명</th>
        <th>카테고리</th>
        <th>상품 가격</th>
        <th>시선추적수</th>
        <th>실판매수량</th>
        <th>구매전환율</th>
        <th>실판매순위</th>
      </tr>
      </thead>
      <tbody id="conversionTableBody"></tbody>
    </table>
  </div>
</div>


<script src="/js/dashboard_comparison.js"></script>
<script src="https://cdn.jsdelivr.net/npm/papaparse@5.4.1/papaparse.min.js"></script>
</body>

</html>