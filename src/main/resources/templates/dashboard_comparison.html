<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
  <meta charset="UTF-8">
  <title>B06Store</title>
  <link rel="stylesheet" th:href="@{/css/rankings.css(v=${#dates.createNow().time})}">
  <link rel="stylesheet" th:href="@{/css/dashboard_comparison.css(v=${#dates.createNow().time})}">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <!-- Bootstrap CSS -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Science+Gothic:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Do+Hyeon&display=swap" rel="stylesheet">
  <style>
  .filters,
  .buttons,
  #compareSection,
  #conversionSection {
    margin-left: 10px;
    margin-right: 10px;
  }

</style>

</head>
<body>

<!-- 제목 및 삼선 버튼 -->
<nav class="navbar navbar-light bg-white border-bottom shadow-sm">
  <div class="container-fluid">
    <a class="navbar-brand" href="#">B06 Store</a>
    <!-- 버튼 대신 이미지로 트리거 -->
    <img src="/images/icon.png"
         alt="menu"
         style="width: 30px; height: 30px; cursor: pointer;">
  </div>
</nav>

<!-- 메뉴탭 -->
<div class="container-fluid bg-white shadow-sm">
  <ul class="nav justify-content-center">
    <li class="nav-item">
      <a class="nav-link"
         th:href="@{'/store/' + ${storeCode} + '/promotion'}"
         th:classappend="${activeTab} == 'promotion' ? ' active' : ''">Promotion</a>
    </li>
    <li class="nav-item">
      <a class="nav-link"
         th:href="@{'/store/' + ${storeCode} + '/rankings'}"
         th:classappend="${activeTab} == 'rankings' ? ' active' : ''">Rankings</a>
    </li>
    <li class="nav-item">
      <a class="nav-link"
         th:href="@{'/store/' + ${storeCode} + '/owner'}"
         th:classappend="${activeTab} == 'owner' ? ' active' : ''">Owner</a>
    </li>
  </ul>
</div>

<div class="filters">
  <label>날짜:
    <input type="date" id="dateInput">
  </label>
  <label>시간:
    <select id="timeInput">
      <option value="">전체</option>
    </select>
  </label>
  <label>카테고리:
    <select id="categoryInput">
      <option value="">전체</option>
    </select>
  </label>
</div>

<div class="buttons">
  <button onclick="showSection('compare')">순위비교</button>
  <button onclick="showSection('conversion')">구매전환율</button>
</div>

<!-- 순위 비교 테이블 -->
<div id="compareSection" class="compare-container">
  <div class="table-wrapper">
    <h4>시선추적결과순위</h4>
    <table>
      <thead>
      <tr>
        <th>상품명</th>
        <th>카테고리</th>
        <th>가격</th>
      </tr>
      </thead>
      <tbody id="gazeTableBody"></tbody>
    </table>
  </div>

  <div class="table-wrapper">
    <h4>실제판매량순위</h4>
    <table>
      <thead>
      <tr>
        <th>상품명</th>
        <th>카테고리</th>
        <th>가격</th>
      </tr>
      </thead>
      <tbody id="salesTableBody"></tbody>
    </table>
  </div>
</div>

<!-- 구매전환율 테이블 -->
<div id="conversionSection" class="hidden">
  <h4>구매전환율 비교</h4>
  <div class="table-wrapper">
    <table>
      <thead>
      <tr>
        <th>순위</th>
        <th>제품명</th>
        <th>카테고리</th>
        <th>가격</th>
        <th>관심수</th>
        <th>판매수</th>
        <th>구매전환율</th>
        <th>판매순위</th>
      </tr>
      </thead>
      <tbody id="conversionTableBody"></tbody>
    </table>
  </div>
</div>


<script src="/js/dashboard_comparison.js"></script>
<script src="https://cdn.jsdelivr.net/npm/papaparse@5.4.1/papaparse.min.js"></script>
</body>

</html>